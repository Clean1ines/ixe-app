/
├── .github/
│   └── workflows/
├── src/
│   ├── application/
│   │   ├── factories/
│   │   │   ├── __init__.py (0 B)
│   │   │   └── problem_factory.py (1.6 KB)
│   │   │       module __main__: Application factory for creating Problem entities from raw data.  This factory implements the IPr...
│   │   │       class ProblemFactory: Factory for creating Problem entities from raw data.
│   │   │       method ProblemFactory.create_problem: Create a Problem entity from raw scraped data.  Args:     raw_data: Dictionary containing raw dat...
│   │   │       function create_problem: Create a Problem entity from raw scraped data.  Args:     raw_data: Dictionary containing raw dat...
│   │   ├── interfaces/
│   │   │   ├── factories/
│   │   │   │   ├── __init__.py (0 B)
│   │   │   │   └── i_problem_factory.py (810.0 B)
│   │   │   │       module __main__: Application interface for Problem factory operations.  This interface defines the contract for cr...
│   │   │   │       class IProblemFactory: Interface for creating Problem entities from raw data.
│   │   │   │       method IProblemFactory.create_problem: Create a Problem entity from raw scraped data.  Args:     raw_data: Dictionary containing raw dat...
│   │   │   │       function create_problem: Create a Problem entity from raw scraped data.  Args:     raw_data: Dictionary containing raw dat...
│   │   │   └── i_page_scraping_service.py (1.9 KB)
│   │   │       module __main__: Application interface for Page Scraping Service operations.  This interface defines the contract ...
│   │   │       class IPageScrapingService: Application interface for page scraping operations. Defines the operation of scraping a single pa...
│   │   │       method IPageScrapingService.scrape_page: Scrape a single page and return Problem entities.  Args:     url: The URL of the page to scrape. ...
│   │   │       function scrape_page: Scrape a single page and return Problem entities.  Args:     url: The URL of the page to scrape. ...
│   │   ├── services/
│   │   │   ├── html_parsing/
│   │   │   │   ├── element_identifier.py (3.3 KB)
│   │   │   │   │   class ElementIdentifier: Service for identifying core elements (qblock, header) from HTML block groups.  Business Rules: -...
│   │   │   │   │   method ElementIdentifier.identify_core_elements: Identify header and qblock elements from a group of HTML elements.  Args:     block_elements: Lis...
│   │   │   │   │   method ElementIdentifier._find_qblock: Pure function to identify qblock element.
│   │   │   │   │   method ElementIdentifier._find_header_container: Pure function to identify header container.
│   │   │   │   │   function identify_core_elements: Identify header and qblock elements from a group of HTML elements.  Args:     block_elements: Lis...
│   │   │   │   │   function _find_qblock: Pure function to identify qblock element.
│   │   │   │   │   function _find_header_container: Pure function to identify header container.
│   │   │   │   ├── fipa_page_block_parser.py (3.3 KB)
│   │   │   │   │   module __main__: Application service implementing IHTMLBlockParser for FIPI pages.  This service encapsulates the ...
│   │   │   │   │   class FIPIPageBlockParser: Application service implementing IHTMLBlockParser for FIPI pages. Groups HTML elements by task id...
│   │   │   │   │   method FIPIPageBlockParser.parse_blocks: Parses the page content and returns a list of element groups, where each group contains all HTML ...
│   │   │   │   │   function parse_blocks: Parses the page content and returns a list of element groups, where each group contains all HTML ...
│   │   │   │   └── i_html_block_parser.py (949.0 B)
│   │   │   │       module __main__: Application interface for parsing HTML blocks on a FIPI page.  This interface defines the contrac...
│   │   │   │       class IHTMLBlockParser: Interface for parsing HTML blocks.
│   │   │   │       method IHTMLBlockParser.parse_blocks: Parses the page content and returns a list of (header_container, qblock) pairs.  Args:     page_c...
│   │   │   │       function parse_blocks: Parses the page content and returns a list of (header_container, qblock) pairs.  Args:     page_c...
│   │   │   ├── scraping/
│   │   │   │   ├── progress_logic.py (2.8 KB)
│   │   │   │   │   module __main__: Functional core for scraping progress logic.  This module contains pure functions that determine ...
│   │   │   │   │   function extract_page_number_from_url: Extract page number from FIPI URL.  FIPI URLs use 0-based page numbering in query parameters like...
│   │   │   │   │   function determine_next_page: Determine the next page to scrape based on existing problems and configuration.  This is a pure f...
│   │   │   │   ├── progress_reporter.py (4.6 KB)
│   │   │   │   │   module __main__: Service for reporting scraping progress to different outputs.  This service is responsible for di...
│   │   │   │   │   class ScrapingProgressReporter: Reporter for scraping progress that can be used with different output streams.  This class has a ...
│   │   │   │   │   method ScrapingProgressReporter.__init__: Initialize the progress reporter.  Args:     output_stream: Output stream to write to (defaults t...
│   │   │   │   │   method ScrapingProgressReporter.report_start: Report the start of scraping process.  Args:     subject_info: Subject being scraped     config: ...
│   │   │   │   │   method ScrapingProgressReporter.report_page_progress: Report progress for a single page.  Args:     page_num: Current page number     total_pages: Tota...
│   │   │   │   │   method ScrapingProgressReporter.report_page_error: Report an error that occurred while processing a page.  Args:     page_num: Page number where err...
│   │   │   │   │   method ScrapingProgressReporter.report_summary: Report the final summary of the scraping process.  Args:     result: Final scraping result contai...
│   │   │   │   │   function __init__: Initialize the progress reporter.  Args:     output_stream: Output stream to write to (defaults t...
│   │   │   │   │   function report_start: Report the start of scraping process.  Args:     subject_info: Subject being scraped     config: ...
│   │   │   │   │   function report_page_progress: Report progress for a single page.  Args:     page_num: Current page number     total_pages: Tota...
│   │   │   │   │   function report_page_error: Report an error that occurred while processing a page.  Args:     page_num: Page number where err...
│   │   │   │   │   function report_summary: Report the final summary of the scraping process.  Args:     result: Final scraping result contai...
│   │   │   │   └── scraping_progress_service.py (2.4 KB)
│   │   │   │       module __main__: Imperative shell for scraping progress logic.  This service handles the interaction with external...
│   │   │   │       class ScrapingProgressService: Service responsible for determining scraping progress and next actions.  This is the imperative s...
│   │   │   │       method ScrapingProgressService.__init__: Initialize the progress service.  Args:     problem_repository: Repository to access existing pro...
│   │   │   │       method ScrapingProgressService.get_next_page_to_scrape: Get the next page number to scrape for a subject.  This method handles all the imperative concern...
│   │   │   │       function __init__: Initialize the progress service.  Args:     problem_repository: Repository to access existing pro...
│   │   │   │       function get_next_page_to_scrape: Get the next page number to scrape for a subject.  This method handles all the imperative concern...
│   │   │   ├── __init__.py (0 B)
│   │   │   ├── html_block_processing_service.py (5.3 KB)
│   │   │   │   module __main__: Application service for processing HTML blocks using IRawBlockProcessor architecture.  This servi...
│   │   │   │   class HTMLBlockProcessingService: Application service for processing HTML blocks in the new IRawBlockProcessor architecture.
│   │   │   │   method HTMLBlockProcessingService.__init__: Initialize with metadata extractor and raw data processors.  Args:     metadata_extractor: Adapte...
│   │   │   │   method HTMLBlockProcessingService.process_block: Process a block of HTML elements into a Problem entity using new architecture.  Args:     block_e...
│   │   │   │   method HTMLBlockProcessingService._apply_raw_processors: Apply chain of IRawBlockProcessor to raw data.  Args:     raw_data: Initial raw data from metadat...
│   │   │   │   method HTMLBlockProcessingService._create_problem_from_raw_data: Create Problem entity from raw data.
│   │   │   │   function __init__: Initialize with metadata extractor and raw data processors.  Args:     metadata_extractor: Adapte...
│   │   │   │   function process_block: Process a block of HTML elements into a Problem entity using new architecture.  Args:     block_e...
│   │   │   │   function _apply_raw_processors: Apply chain of IRawBlockProcessor to raw data.  Args:     raw_data: Initial raw data from metadat...
│   │   │   │   function _create_problem_from_raw_data: Create Problem entity from raw data.
│   │   │   ├── page_scraping_service.py (6.8 KB)
│   │   │   │   module __main__: Application service for page scraping operations.  Refactor notes: - Prefer injected html_block_p...
│   │   │   │   method PageScrapingService.__init__: html_block_parser: optional. If provided, used to group DOM elements into blocks. If not provided...
│   │   │   │   function __init__: html_block_parser: optional. If provided, used to group DOM elements into blocks. If not provided...
│   │   │   └── scraping_orchestrator.py (5.0 KB)
│   │   │       module __main__: Application service for orchestrating parallel scraping of multiple subjects. This service takes ...
│   │   │       class ScrapingOrchestrator: Application service for orchestrating parallel scraping of multiple subjects. Business Rules: - A...
│   │   │       method ScrapingOrchestrator.__init__: Initialize the orchestrator with the use case it will execute. Args:     scrape_use_case: The use...
│   │   │       method ScrapingOrchestrator.run_parallel_scraping: Run scraping for multiple subjects in parallel. Args:     subject_configs: A list of dictionaries...
│   │   │       method ScrapingOrchestrator._scrape_single_subject: Helper method to scrape a single subject and return its result. This is wrapped in a task by run_...
│   │   │       function __init__: Initialize the orchestrator with the use case it will execute. Args:     scrape_use_case: The use...
│   │   │       function run_parallel_scraping: Run scraping for multiple subjects in parallel. Args:     subject_configs: A list of dictionaries...
│   │   │       function _scrape_single_subject: Helper method to scrape a single subject and return its result. This is wrapped in a task by run_...
│   │   ├── use_cases/
│   │   │   ├── scraping/
│   │   │   │   └── scrape_subject_use_case.py (9.2 KB)
│   │   │   │       module __main__: Use case for scraping a single subject.  Refactor: make progress_service and progress_reporter op...
│   │   │   │       method ScrapeSubjectUseCase.__init__: progress_service and progress_reporter are optional — passing them explicitly is still preferred,...
│   │   │   │       function __init__: progress_service and progress_reporter are optional — passing them explicitly is still preferred,...
│   │   │   └── __init__.py (0 B)
│   │   ├── value_objects/
│   │   │   └── scraping/
│   │   │       ├── scraping_config.py (1.9 KB)
│   │   │       │   module __main__: Value Object representing configuration parameters for the scraping process.
│   │   │       │   class ScrapingConfig: Value Object for scraping process configuration.
│   │   │       │   method ScrapingConfig.__post_init__: Validate the configuration after initialization.
│   │   │       │   function __post_init__: Validate the configuration after initialization.
│   │   │       ├── scraping_result.py (1.0 KB)
│   │   │       │   module __main__: Value Object representing the result of a scraping operation.
│   │   │       │   class ScrapingResult: Value Object for scraping process results and statistics.
│   │   │       │   method ScrapingResult.duration_seconds: Get duration of scraping in seconds.
│   │   │       │   method ScrapingResult.success_rate: Get success rate as percentage.
│   │   │       │   function duration_seconds: Get duration of scraping in seconds.
│   │   │       │   function success_rate: Get success rate as percentage.
│   │   │       └── subject_info.py (6.6 KB)
│   │   │           module __main__: Value Object representing information required to scrape a specific subject.  This includes ident...
│   │   │           function _get_proj_id_by_alias: Helper to get proj_id by alias.
│   │   │           function _get_alias_by_official_name: Helper to get alias by official name.
│   │   │           class SubjectInfo: Value Object for subject-specific scraping parameters.
│   │   │           method SubjectInfo.__post_init__: Validate the subject information after initialization.
│   │   │           method SubjectInfo.from_alias: Create a SubjectInfo instance from its short alias using the mapping. Args:     alias: Short alia...
│   │   │           method SubjectInfo.from_official_name: Create a SubjectInfo instance from its official Russian name using the mapping. Args:     officia...
│   │   │           method SubjectInfo.base_url: Construct the base URL for this subject's problem bank on FIPI. Example: f"https://ege.fipi.ru/ba...
│   │   │           method SubjectInfo.subject_name: Getter for the official_name, conforming to the old interface expectation.
│   │   │           function __post_init__: Validate the subject information after initialization.
│   │   │           function from_alias: Create a SubjectInfo instance from its short alias using the mapping. Args:     alias: Short alia...
│   │   │           function from_official_name: Create a SubjectInfo instance from its official Russian name using the mapping. Args:     officia...
│   │   │           function base_url: Construct the base URL for this subject's problem bank on FIPI. Example: f"https://ege.fipi.ru/ba...
│   │   │           function subject_name: Getter for the official_name, conforming to the old interface expectation.
│   │   └── __init__.py (0 B)
│   ├── dependency_injection/
│   │   └── composition_root.py (6.5 KB)
│   │       module __main__: Composition Root module for assembling application dependencies.  This module provides functions ...
│   │       function create_scraping_components: Creates and wires together all components needed for scraping.  Args:     base_run_folder: Base p...
│   ├── domain/
│   │   ├── html_processing/
│   │   │   └── pure_html_transforms.py (5.0 KB)
│   │   │       function extract_dom_tree: Преобразует HTML-строку в BeautifulSoup DOM. Чистая функция: deterministic, не делает I/O.
│   │   │       function extract_block_pairs: Из DOM (или HTML-строки) извлекает упорядоченный список пар (header_html, body_html). Подход: ище...
│   │   │       function transform_blocks_to_raw_data: Преобразует пары (header_html, body_html) в список "сырых" dict-объектов, пригодных для feed в фа...
│   │   ├── interfaces/
│   │   │   ├── external_services/
│   │   │   │   ├── i_asset_downloader.py (1.5 KB)
│   │   │   │   │   module __main__: Domain interface for asset downloading operations.  This interface defines the contract for downl...
│   │   │   │   │   class IAssetDownloader: Domain interface for downloading assets from the web.
│   │   │   │   │   method IAssetDownloader.initialize: Initialize the asset downloader resources.
│   │   │   │   │   method IAssetDownloader.close: Close the asset downloader resources.
│   │   │   │   │   method IAssetDownloader.download: Download an asset from the web and save it to a local destination.  Args:     asset_url: The full...
│   │   │   │   │   method IAssetDownloader.download_bytes: Download an asset from the web and return its content as bytes.  Args:     asset_url: The full UR...
│   │   │   │   │   function initialize: Initialize the asset downloader resources.
│   │   │   │   │   function close: Close the asset downloader resources.
│   │   │   │   │   function download: Download an asset from the web and save it to a local destination.  Args:     asset_url: The full...
│   │   │   │   │   function download_bytes: Download an asset from the web and return its content as bytes.  Args:     asset_url: The full UR...
│   │   │   │   └── i_browser_service.py (1.6 KB)
│   │   │   │       module __main__: Domain interface for Browser service operations.  This interface defines the contract for interac...
│   │   │   │       class IBrowserService: Interface for operations related to browser management and interaction.
│   │   │   │       method IBrowserService.get_browser: Get a browser instance.  Returns:     A browser instance from the pool or a new one.     The conc...
│   │   │   │       method IBrowserService.release_browser: Release a browser instance back to the pool.  Args:     browser: The browser instance to release.
│   │   │   │       method IBrowserService.close: Close all managed browser resources.
│   │   │   │       method IBrowserService.get_page_content: Navigate to a URL and get the page's HTML content.  Args:     url: The URL to navigate to.     ti...
│   │   │   │       function get_browser: Get a browser instance.  Returns:     A browser instance from the pool or a new one.     The conc...
│   │   │   │       function release_browser: Release a browser instance back to the pool.  Args:     browser: The browser instance to release.
│   │   │   │       function close: Close all managed browser resources.
│   │   │   │       function get_page_content: Navigate to a URL and get the page's HTML content.  Args:     url: The URL to navigate to.     ti...
│   │   │   ├── html_processing/
│   │   │   │   ├── i_html_processor.py (2.5 KB)
│   │   │   │   │   module __main__: Domain interface for HTML processing operations.  This interface defines the contract for process...
│   │   │   │   │   class IHTMLProcessor: Domain interface for processing a single HTML block pair (header_container, qblock).  This interf...
│   │   │   │   │   method IHTMLProcessor.process_html_block: Process a single HTML block pair and return structured data.  Args:     header_container: The Bea...
│   │   │   │   │   function process_html_block: Process a single HTML block pair and return structured data.  Args:     header_container: The Bea...
│   │   │   │   ├── i_raw_block_processor.py (590.0 B)
│   │   │   │   │   class IRawBlockProcessor: Domain-level processor interface for processing a raw block dict.  The contract: accept a raw_dat...
│   │   │   │   │   method IRawBlockProcessor.process: Process the raw_data and return the resulting raw_data (may be same object mutated).
│   │   │   │   │   function process: Process the raw_data and return the resulting raw_data (may be same object mutated).
│   │   │   │   └── i_task_classifier.py (1.1 KB)
│   │   │   │       module __main__: Domain interface for task classification operations. This interface defines the contract for clas...
│   │   │   │       class ITaskClassifier: Domain interface for task classification operations.
│   │   │   │       method ITaskClassifier.classify_task: Classify a task based on KES/KOS codes and return classification result.  Args:     kes_codes: Li...
│   │   │   │       function classify_task: Classify a task based on KES/KOS codes and return classification result.  Args:     kes_codes: Li...
│   │   │   ├── repositories/
│   │   │   │   └── i_problem_repository.py (1.7 KB)
│   │   │   │       module __main__: Domain interface for Problem repository operations.  This interface defines the contract for pers...
│   │   │   │       class IProblemRepository: Interface for operations related to Problem persistence and retrieval.
│   │   │   │       method IProblemRepository.save: Save a Problem entity to the persistence layer.  Args:     problem: The Problem entity to save.  ...
│   │   │   │       method IProblemRepository.get_by_id: Retrieve a Problem entity by its unique identifier.  Args:     problem_id: The unique identifier ...
│   │   │   │       method IProblemRepository.get_by_subject: Retrieve all Problem entities associated with a specific subject name.  Args:     subject_name: T...
│   │   │   │       function save: Save a Problem entity to the persistence layer.  Args:     problem: The Problem entity to save.  ...
│   │   │   │       function get_by_id: Retrieve a Problem entity by its unique identifier.  Args:     problem_id: The unique identifier ...
│   │   │   │       function get_by_subject: Retrieve all Problem entities associated with a specific subject name.  Args:     subject_name: T...
│   │   │   └── __init__.py (0 B)
│   │   ├── models/
│   │   │   ├── __init__.py (0 B)
│   │   │   └── problem.py (4.2 KB)
│   │   │       class Problem: Domain Entity representing an EGE problem after scraping and processing.  This entity holds the c...
│   │   │       method Problem.__post_init__: Validate the problem after initialization.
│   │   │       method Problem.__eq__: Check equality based on the entity's identity (problem_id).
│   │   │       method Problem.__hash__: Hash based on the entity's identity (problem_id).
│   │   │       method Problem.is_answer_correct: Check if a user's answer matches the stored correct answer.
│   │   │       method Problem.can_be_attempted: Check if the problem can be presented to a user for solving.
│   │   │       method Problem.has_images: Check if the problem has associated images.
│   │   │       method Problem.has_files: Check if the problem has associated files.
│   │   │       method Problem.is_suitable_for_level: Check if the problem's difficulty matches a required level.
│   │   │       function __post_init__: Validate the problem after initialization.
│   │   │       function __eq__: Check equality based on the entity's identity (problem_id).
│   │   │       function __hash__: Hash based on the entity's identity (problem_id).
│   │   │       function is_answer_correct: Check if a user's answer matches the stored correct answer.
│   │   │       function can_be_attempted: Check if the problem can be presented to a user for solving.
│   │   │       function has_images: Check if the problem has associated images.
│   │   │       function has_files: Check if the problem has associated files.
│   │   │       function is_suitable_for_level: Check if the problem's difficulty matches a required level.
│   │   ├── services/
│   │   │   └── __init__.py (0 B)
│   │   ├── value_objects/
│   │   │   ├── __init__.py (0 B)
│   │   │   ├── difficulty_level.py (1.3 KB)
│   │   │   │   class DifficultyLevel: Value Object representing the difficulty level of a problem.
│   │   │   │   method DifficultyLevel.__post_init__: Validate the difficulty level value after initialization.
│   │   │   │   method DifficultyLevel.__str__: Return the string value of the enum.
│   │   │   │   method DifficultyLevel.from_string: Create a DifficultyLevel instance from a string. Args:     level_str: String representation like ...
│   │   │   │   function __post_init__: Validate the difficulty level value after initialization.
│   │   │   │   function __str__: Return the string value of the enum.
│   │   │   │   function from_string: Create a DifficultyLevel instance from a string. Args:     level_str: String representation like ...
│   │   │   ├── difficulty_level_enum.py (136.0 B)
│   │   │   ├── problem_id.py (561.0 B)
│   │   │   │   class ProblemId: Value Object representing the unique identifier for a problem, extracted directly from the HTML (...
│   │   │   │   method ProblemId.__post_init__: Validate the value after initialization.
│   │   │   │   function __post_init__: Validate the value after initialization.
│   │   │   └── subject.py (2.4 KB)
│   │   │       class Subject: Value Object representing a subject for an EGE problem. Contains all identifiers and names associ...
│   │   │       method Subject.__post_init__: Validate the subject data after initialization.
│   │   │       method Subject.from_alias: Create a Subject instance from its alias using the mapping. Args:     alias: Short alias like 'ma...
│   │   │       method Subject.__str__: Return the official name for string representation.
│   │   │       function __post_init__: Validate the subject data after initialization.
│   │   │       function from_alias: Create a Subject instance from its alias using the mapping. Args:     alias: Short alias like 'ma...
│   │   │       function __str__: Return the official name for string representation.
│   │   └── __init__.py (0 B)
│   ├── infrastructure/
│   │   ├── adapters/
│   │   │   ├── external_services/
│   │   │   │   ├── asset_downloader_adapter.py (3.6 KB)
│   │   │   │   │   module __main__: Infrastructure adapter to make IAssetDownloader compatible with the old processor interface.  Thi...
│   │   │   │   │   class AssetDownloaderAdapter: Adapts IAssetDownloader to the old 'downloader_instance.download(url, path, type)' interface. Use...
│   │   │   │   │   method AssetDownloaderAdapter.__init__: Initialize the adapter.  Args:     asset_downloader_impl: The concrete implementation of IAssetDo...
│   │   │   │   │   method AssetDownloaderAdapter.download: Download an asset from the web and save it to a local destination. This method mimics the interfa...
│   │   │   │   │   function __init__: Initialize the adapter.  Args:     asset_downloader_impl: The concrete implementation of IAssetDo...
│   │   │   │   │   function download: Download an asset from the web and save it to a local destination. This method mimics the interfa...
│   │   │   │   └── playwright_asset_downloader_adapter.py (9.6 KB)
│   │   │   │       module __main__: Infrastructure adapter implementing IAssetDownloader using Playwright's APIRequestContext.  This ...
│   │   │   │       class PlaywrightAssetDownloaderAdapter: Infrastructure adapter implementing IAssetDownloader using Playwright's APIRequestContext.  This ...
│   │   │   │       method PlaywrightAssetDownloaderAdapter.__init__: Initialize the adapter.  Args:     timeout: Default timeout for download requests in seconds.
│   │   │   │       method PlaywrightAssetDownloaderAdapter.initialize: Initialize the Playwright context and API request context.
│   │   │   │       method PlaywrightAssetDownloaderAdapter.close: Close the Playwright context and API request context.
│   │   │   │       method PlaywrightAssetDownloaderAdapter.download: Download an asset from the web and save it to a local destination.  Args:     asset_url: The full...
│   │   │   │       method PlaywrightAssetDownloaderAdapter.download_bytes: Download an asset from the web and return its content as bytes.  Args:     asset_url: The full UR...
│   │   │   │       method PlaywrightAssetDownloaderAdapter._download_with_aiohttp: Alternative download method using aiohttp in case of Playwright SSL issues.
│   │   │   │       method PlaywrightAssetDownloaderAdapter._download_bytes_with_aiohttp: Alternative bytes download method using aiohttp in case of Playwright SSL issues.
│   │   │   │       function __init__: Initialize the adapter.  Args:     timeout: Default timeout for download requests in seconds.
│   │   │   │       function initialize: Initialize the Playwright context and API request context.
│   │   │   │       function close: Close the Playwright context and API request context.
│   │   │   │       function download: Download an asset from the web and save it to a local destination.  Args:     asset_url: The full...
│   │   │   │       function download_bytes: Download an asset from the web and return its content as bytes.  Args:     asset_url: The full UR...
│   │   │   │       function _download_with_aiohttp: Alternative download method using aiohttp in case of Playwright SSL issues.
│   │   │   │       function _download_bytes_with_aiohttp: Alternative bytes download method using aiohttp in case of Playwright SSL issues.
│   │   │   ├── html_processing/
│   │   │   │   └── metadata_extractor_adapter.py (7.9 KB)
│   │   │   │       class MetadataExtractorAdapter: Infrastructure adapter for extracting metadata from processed HTML blocks.  Business Rules: - Con...
│   │   │   │       method MetadataExtractorAdapter.extract: Extract raw data from processed HTML blocks.
│   │   │   │       method MetadataExtractorAdapter._extract_raw_data: Core extraction logic - pure function with no side effects.
│   │   │   │       method MetadataExtractorAdapter._extract_task_number: Extract task number using multiple strategies.
│   │   │   │       method MetadataExtractorAdapter._extract_codes: Extract KES/KOS codes using flexible patterns.
│   │   │   │       method MetadataExtractorAdapter._extract_answer: Extract answer using multiple strategies.
│   │   │   │       method MetadataExtractorAdapter._extract_assets: Extract asset paths using regex pattern matching.
│   │   │   │       method MetadataExtractorAdapter._determine_difficulty: Determine difficulty based on task number with fallback.
│   │   │   │       method MetadataExtractorAdapter._get_stable_id: Get stable ID from qblock element with fallback strategies.
│   │   │   │       method MetadataExtractorAdapter._extract_from_text: Extract number from text using regex pattern.
│   │   │   │       method MetadataExtractorAdapter._extract_from_attribute: Extract number from HTML attribute.
│   │   │   │       method MetadataExtractorAdapter._extract_from_class: Extract number from CSS class using regex.
│   │   │   │       method MetadataExtractorAdapter._find_hidden_input: Find hidden input by name attribute.
│   │   │   │       method MetadataExtractorAdapter._find_class_element: Find element by class name and get its text or value.
│   │   │   │       function extract: Extract raw data from processed HTML blocks.
│   │   │   │       function _extract_raw_data: Core extraction logic - pure function with no side effects.
│   │   │   │       function _extract_task_number: Extract task number using multiple strategies.
│   │   │   │       function _extract_codes: Extract KES/KOS codes using flexible patterns.
│   │   │   │       function _extract_answer: Extract answer using multiple strategies.
│   │   │   │       function _extract_assets: Extract asset paths using regex pattern matching.
│   │   │   │       function _determine_difficulty: Determine difficulty based on task number with fallback.
│   │   │   │       function _get_stable_id: Get stable ID from qblock element with fallback strategies.
│   │   │   │       function _extract_from_text: Extract number from text using regex pattern.
│   │   │   │       function _extract_from_attribute: Extract number from HTML attribute.
│   │   │   │       function _extract_from_class: Extract number from CSS class using regex.
│   │   │   │       function _find_hidden_input: Find hidden input by name attribute.
│   │   │   │       function _find_class_element: Find element by class name and get its text or value.
│   │   │   ├── __init__.py (0 B)
│   │   │   └── browser_pool_service_adapter.py (4.8 KB)
│   │   │       module __main__: Infrastructure adapter implementing IBrowserService using a pool of BrowserManager instances.  Th...
│   │   │       class BrowserPoolServiceAdapter: Implements IBrowserService using a pool of BrowserManager instances managed via asyncio.Queue. Th...
│   │   │       method BrowserPoolServiceAdapter.__init__: Initialize the browser pool service adapter.  Args:     pool_size: The number of BrowserManager i...
│   │   │       method BrowserPoolServiceAdapter.initialize: Initialize the browser pool by creating and initializing BrowserManager instances.
│   │   │       method BrowserPoolServiceAdapter.get_browser: Get a BrowserManager instance from the pool. This method waits if no browser is available. The re...
│   │   │       method BrowserPoolServiceAdapter.release_browser: Release a BrowserManager instance back to the pool.  Args:     browser_manager: The BrowserManage...
│   │   │       method BrowserPoolServiceAdapter.close: Close all BrowserManager instances in the pool.
│   │   │       method BrowserPoolServiceAdapter.get_page_content: Convenience method to get page content using a browser from the pool. This method gets a browser,...
│   │   │       function __init__: Initialize the browser pool service adapter.  Args:     pool_size: The number of BrowserManager i...
│   │   │       function initialize: Initialize the browser pool by creating and initializing BrowserManager instances.
│   │   │       function get_browser: Get a BrowserManager instance from the pool. This method waits if no browser is available. The re...
│   │   │       function release_browser: Release a BrowserManager instance back to the pool.  Args:     browser_manager: The BrowserManage...
│   │   │       function close: Close all BrowserManager instances in the pool.
│   │   │       function get_page_content: Convenience method to get page content using a browser from the pool. This method gets a browser,...
│   │   ├── browser_management/
│   │   │   └── browser_manager.py (4.1 KB)
│   │   │       module __main__: Module for managing a single Playwright browser instance. Creates a new page for each get_page_co...
│   │   │       class BrowserManager: Manages a single browser instance. Creates a new page for each get_page_content request and close...
│   │   │       method BrowserManager.initialize: Initialize the browser context.
│   │   │       method BrowserManager.close: Close the browser and playwright context.
│   │   │       method BrowserManager.is_healthy: Check if the browser resource is healthy.
│   │   │       method BrowserManager.get_page_content: Navigate to a URL on a *new* page, get the HTML content, and close the page.  Args:     url: The ...
│   │   │       function initialize: Initialize the browser context.
│   │   │       function close: Close the browser and playwright context.
│   │   │       function is_healthy: Check if the browser resource is healthy.
│   │   │       function get_page_content: Navigate to a URL on a *new* page, get the HTML content, and close the page.  Args:     url: The ...
│   │   ├── processors/
│   │   │   └── html/
│   │   │       ├── __init__.py (313.0 B)
│   │   │       ├── file_link_processor.py (2.4 KB)
│   │   │       │   class FileLinkProcessor: Downloads file links (pdf/doc/zip) and collects local paths. Expects 'downloader', 'run_folder_pa...
│   │   │       ├── image_script_processor.py (2.5 KB)
│   │   │       │   class ImageScriptProcessor: Downloads images referenced in body_html and rewrites img.src to local asset path. Expects contex...
│   │   │       ├── input_field_remover.py (758.0 B)
│   │   │       ├── mathml_remover.py (576.0 B)
│   │   │       ├── task_info_processor.py (1.6 KB)
│   │   │       └── unwanted_element_remover.py (743.0 B)
│   │   ├── repositories/
│   │   │   ├── __init__.py (0 B)
│   │   │   └── sqlalchemy_problem_repository.py (10.7 KB)
│   │   │       module __main__: Implementation of IProblemRepository using SQLAlchemy.  This class provides concrete implementati...
│   │   │       class Base: Base class for all SQLAlchemy ORM models in this module.
│   │   │       class DBProblem: SQLAlchemy ORM model representing the 'problems' table.  This model maps the fields of the Proble...
│   │   │       class SQLAlchemyProblemRepository: Implementation of IProblemRepository using SQLAlchemy.  This class handles the conversion between...
│   │   │       method SQLAlchemyProblemRepository.__init__: Initialize the repository with a session factory.  Args:     session_factory: A factory to create...
│   │   │       method SQLAlchemyProblemRepository.save: Save a Problem entity to the database.  Args:     problem: The Problem entity to save.     force_...
│   │   │       method SQLAlchemyProblemRepository.clear_subject_problems: Clear all problems for a specific subject. This is used when force_restart=True to completely ref...
│   │   │       method SQLAlchemyProblemRepository.get_by_id: Retrieve a Problem entity by its unique identifier.  Args:     problem_id: The unique identifier ...
│   │   │       method SQLAlchemyProblemRepository.get_by_subject: Retrieve all Problem entities associated with a specific subject name.  Args:     subject_name: T...
│   │   │       method SQLAlchemyProblemRepository._map_db_to_domain: Convert a DBProblem ORM model instance to a Problem domain entity.  Args:     db_problem: The DBP...
│   │   │       function __init__: Initialize the repository with a session factory.  Args:     session_factory: A factory to create...
│   │   │       function save: Save a Problem entity to the database.  Args:     problem: The Problem entity to save.     force_...
│   │   │       function clear_subject_problems: Clear all problems for a specific subject. This is used when force_restart=True to completely ref...
│   │   │       function get_by_id: Retrieve a Problem entity by its unique identifier.  Args:     problem_id: The unique identifier ...
│   │   │       function get_by_subject: Retrieve all Problem entities associated with a specific subject name.  Args:     subject_name: T...
│   │   │       function _map_db_to_domain: Convert a DBProblem ORM model instance to a Problem domain entity.  Args:     db_problem: The DBP...
│   │   └── __init__.py (0 B)
│   ├── presentation/
│   │   ├── api/
│   │   │   └── __init__.py (0 B)
│   │   ├── cli/
│   │   │   ├── __init__.py (0 B)
│   │   │   └── scraping_cli_handler.py (6.2 KB)
│   │   │       module __main__: CLI handler for scraping operations. This module provides the command-line interface for triggeri...
│   │   │       class ScrapingCLIHandler: CLI handler for scraping operations. Depends only on the ScrapeSubjectUseCase abstraction.
│   │   │       method ScrapingCLIHandler.__init__: Initialize the CLI handler with the use case it will execute. Args:     scrape_use_case: The use ...
│   │   │       method ScrapingCLIHandler.run_scraping: Run the scraping process for a given subject. Args:     subject_alias: Alias of the subject to sc...
│   │   │       function main: Main entry point for the CLI handler. Parses arguments, creates dependencies via composition_root...
│   │   │       function __init__: Initialize the CLI handler with the use case it will execute. Args:     scrape_use_case: The use ...
│   │   │       function run_scraping: Run the scraping process for a given subject. Args:     subject_alias: Alias of the subject to sc...
│   │   └── __init__.py (0 B)
│   └── __init__.py (0 B)
├── tests/
│   ├── application/
│   │   ├── services/
│   │   │   ├── html_parsing/
│   │   │   │   ├── fakes/
│   │   │   │   │   ├── __init__.py (0 B)
│   │   │   │   │   └── fake_html_block_parser.py (1.6 KB)
│   │   │   │   │       module __main__: Fake implementation of IHTMLBlockParser for testing.  This is a working implementation that retur...
│   │   │   │   │       class FakeHTMLBlockParser: Fake implementation of IHTMLBlockParser for testing.  This class returns predefined block groups ...
│   │   │   │   │       method FakeHTMLBlockParser.__init__: Initialize the fake parser with predefined block groups.  Args:     predefined_blocks: List of bl...
│   │   │   │   │       method FakeHTMLBlockParser.parse_blocks: Return predefined block groups without actual parsing.  This method completely ignores the page_c...
│   │   │   │   │       function __init__: Initialize the fake parser with predefined block groups.  Args:     predefined_blocks: List of bl...
│   │   │   │   │       function parse_blocks: Return predefined block groups without actual parsing.  This method completely ignores the page_c...
│   │   │   │   └── __init__.py (0 B)
│   │   │   ├── scraping/
│   │   │   │   ├── fakes/
│   │   │   │   │   ├── __init__.py (0 B)
│   │   │   │   │   └── fake_problem_repository.py (2.1 KB)
│   │   │   │   │       module __main__: Fake implementation of IProblemRepository for testing.  This is a working implementation that use...
│   │   │   │   │       class FakeProblemRepository: Fake repository implementation for testing that stores problems in memory.  Unlike mocks that ver...
│   │   │   │   │       method FakeProblemRepository.save: Save a problem to the in-memory store.
│   │   │   │   │       method FakeProblemRepository.get_by_id: Get a problem by ID from the in-memory store.
│   │   │   │   │       method FakeProblemRepository.get_by_subject: Get all problems for a subject from the in-memory store.
│   │   │   │   │       method FakeProblemRepository.clear: Clear all problems from the store (useful for test setup).
│   │   │   │   │       method FakeProblemRepository.all_problems: Get all problems currently stored (for verification in tests).
│   │   │   │   │       function save: Save a problem to the in-memory store.
│   │   │   │   │       function get_by_id: Get a problem by ID from the in-memory store.
│   │   │   │   │       function get_by_subject: Get all problems for a subject from the in-memory store.
│   │   │   │   │       function clear: Clear all problems from the store (useful for test setup).
│   │   │   │   │       function all_problems: Get all problems currently stored (for verification in tests).
│   │   │   │   ├── test_progress_logic.py (5.9 KB)
│   │   │   │   │   module __main__: Tests for scraping progress logic - functional core that determines next page to scrape.  These t...
│   │   │   │   │   function create_test_problem: Helper to create test problems with consistent data
│   │   │   │   │   function test_extract_page_number_from_url: Test extraction of page numbers from FIPI URLs
│   │   │   │   │   function test_determine_next_page_returns_1_when_no_problems_exist: When no problems exist in database, scraping should start from page 1
│   │   │   │   │   function test_determine_next_page_returns_2_when_page_1_is_complete: When page 1 is fully scraped, next page should be 2
│   │   │   │   │   function test_determine_next_page_returns_1_when_force_restart: When force_restart is True, always start from page 1 regardless of existing problems
│   │   │   │   │   function test_determine_next_page_handles_mixed_page_numbers: When problems exist from multiple pages, start from the next page after the highest
│   │   │   │   │   function test_determine_next_page_uses_config_start_page: When start_page is set in config, it should be used regardless of existing problems
│   │   │   │   └── test_scraping_progress_service.py (3.4 KB)
│   │   │   │       module __main__: Tests for ScrapingProgressService that follow classical TDD principles. These tests focus on stat...
│   │   │   │       function create_test_problem: Helper to create test problems with consistent data
│   │   │   │       function test_determine_next_page_returns_1_when_no_problems_exist: When no problems exist in database, scraping should start from page 1
│   │   │   │       function test_determine_next_page_returns_2_when_page_1_is_complete: When page 1 is fully scraped, next page should be 2
│   │   │   │       function test_determine_next_page_returns_1_when_force_restart: When force_restart is True, always start from page 1 regardless of existing problems
│   │   │   └── __init__.py (0 B)
│   │   └── use_cases/
│   │       └── scraping/
│   │           └── test_scrape_subject_use_case_app.py (3.8 KB)
│   │               module __main__: Unit tests for ScrapeSubjectUseCase that follow classical TDD principles. These tests focus on st...
│   │               function mock_dependencies: Create mock dependencies for ScrapeSubjectUseCase.
│   │               function subject_info: Create a sample SubjectInfo for testing.
│   │               function test_force_restart_rescrapes_from_page_1: Test that force_restart=True causes scraping to start from page 1.
│   ├── architecture/
│   │   └── test_architecture.py (4.9 KB)
│   │       module __main__: Architecture tests for the project. These tests verify that architectural boundaries are not viol...
│   │       function _get_all_python_files_in_dir: Helper to recursively find all .py files in a directory.
│   │       function _extract_imports_from_file: Extract imported module names from a Python file using AST.
│   │       function test_domain_layer_no_deps_on_application_or_infrastructure: Test that files in the domain layer do not import from application or infrastructure layers.
│   │       function test_application_layer_no_deps_on_infrastructure_via_src: Test that files in the application layer do not directly import core infrastructure implementatio...
│   ├── e2e/
│   ├── integration/
│   │   ├── application/
│   │   │   ├── test_html_block_processing_service_integration.py (4.3 KB)
│   │   │   │   module __main__: Integration tests for HTMLBlockProcessingService. These tests verify the interaction between the ...
│   │   │   │   function mock_asset_downloader: Mock for IAssetDownloader.
│   │   │   │   function subject_info: Sample SubjectInfo.
│   │   │   │   function sample_html_block_elements: A sample HTML block elements list that ElementIdentifier can recognize.
│   │   │   │   function html_block_processing_service_with_real_processors: Create a real HTMLBlockProcessingService with *real* processors.
│   │   │   │   function test_html_block_processing_service_integration_with_real_processors: Test HTMLBlockProcessingService with real processors and mocked asset downloader. This verifies t...
│   │   │   ├── test_page_scraping_service_integration.py (3.5 KB)
│   │   │   │   module __main__: Integration tests for PageScrapingService that verify interaction with real dependencies.
│   │   │   │   function mock_browser_service: Mock for IBrowserService.
│   │   │   │   function mock_asset_downloader: Mock for IAssetDownloader.
│   │   │   │   function mock_problem_factory: Mock for IProblemFactory.
│   │   │   │   function html_block_processing_service: Create a real HTMLBlockProcessingService with correct dependencies.
│   │   │   │   function asset_downloader_adapter: Create AssetDownloaderAdapter with mocked implementation and default_assets_dir.
│   │   │   │   function page_scraping_service: Create a real PageScrapingService with all required dependencies.
│   │   │   │   function test_page_scraping_service_basic_integration: Test that PageScrapingService can successfully scrape a page with minimal dependencies.
│   │   │   └── test_scrape_subject_use_case_integration.py (3.8 KB)
│   │   │       module __main__: Integration tests for ScrapeSubjectUseCase and PageScrapingService.
│   │   └── infrastructure/
│   │       ├── adapters/
│   │       │   └── test_browser_pool_service_adapter.py (4.8 KB)
│   │       │       module __main__: Integration tests for the BrowserPoolServiceAdapter. These tests use real BrowserManager instance...
│   │       │       function browser_pool_adapter: Fixture to create and initialize a BrowserPoolServiceAdapter.
│   │       │       function test_browser_pool_adapter_initialize_and_close: Test that BrowserPoolServiceAdapter initializes and closes correctly.
│   │       │       function test_browser_pool_adapter_get_and_release_browser: Test getting and releasing a browser from the pool.
│   │       │       function test_browser_pool_adapter_get_page_content_convenience: Test the convenience method get_page_content.
│   │       │       function test_browser_pool_adapter_concurrent_access_improved: Test concurrent access to browsers from the pool. This test focuses on functionality and graceful...
│   │       ├── browser_management/
│   │       │   └── test_browser_manager.py (1.7 KB)
│   │       │       module __main__: Integration tests for the BrowserManager.
│   │       └── repositories/
│   │           └── test_sqlalchemy_problem_repository.py (5.1 KB)
│   │               module __main__: Integration tests for the SQLAlchemyProblemRepository.  These tests use a real SQLite database (i...
│   │               function db_session: Create an in-memory SQLite database session for testing.
│   │               function repository: Create a SQLAlchemyProblemRepository instance.
│   │               function sample_problem: Create a sample Problem entity for testing.
│   │               function test_save_and_get_by_id: Test saving a problem and retrieving it by ID.
│   │               function test_get_by_id_not_found: Test retrieving a problem by ID that does not exist.
│   │               function test_save_and_get_by_subject: Test saving multiple problems and retrieving them by subject.
│   ├── unit/
│   │   ├── application/
│   │   │   ├── interfaces/
│   │   │   │   └── factories/
│   │   │   ├── services/
│   │   │   │   └── test_scraping_orchestrator.py (5.0 KB)
│   │   │   │       module __main__: Unit tests for ScrapingOrchestrator.
│   │   │   │       function mock_scrape_use_case: Mock for ScrapeSubjectUseCase.
│   │   │   │       function orchestrator: Instance of ScrapingOrchestrator with mocked dependencies.
│   │   │   │       method TestScrapingOrchestrator.test_run_parallel_scraping_single_subject: Test orchestrator runs scraping for a single subject.
│   │   │   │       method TestScrapingOrchestrator.test_run_parallel_scraping_multiple_subjects: Test orchestrator runs scraping for multiple subjects concurrently.
│   │   │   │       method TestScrapingOrchestrator.test_run_parallel_scraping_handles_exception: Test orchestrator handles exceptions from a subject's scraping.
│   │   │   │       function test_run_parallel_scraping_single_subject: Test orchestrator runs scraping for a single subject.
│   │   │   │       function test_run_parallel_scraping_multiple_subjects: Test orchestrator runs scraping for multiple subjects concurrently.
│   │   │   │       function test_run_parallel_scraping_handles_exception: Test orchestrator handles exceptions from a subject's scraping.
│   │   │   ├── use_cases/
│   │   │   │   └── scraping/
│   │   │   │       └── test_scrape_subject_use_case.py (6.6 KB)
│   │   │   │           module __main__: Unit tests for ScrapeSubjectUseCase.
│   │   │   │           function mock_page_scraping_service: Mock for PageScrapingService.
│   │   │   │           function mock_problem_repository: Mock for IProblemRepository.
│   │   │   │           function mock_problem_factory: Mock for IProblemFactory.
│   │   │   │           function mock_browser_service: Mock for IBrowserService.
│   │   │   │           function mock_asset_downloader_impl: Mock for IAssetDownloader implementation.
│   │   │   │           function use_case: Instance of ScrapeSubjectUseCase with mocked dependencies.
│   │   │   │           method TestScrapeSubjectUseCase.test_successful_scraping: Test successful scraping execution.
│   │   │   │           method TestScrapeSubjectUseCase.test_error_in_page_scraping: Test use case handles errors from PageScrapingService.
│   │   │   │           method TestScrapeSubjectUseCase.test_force_restart_behavior: Test that force_restart is passed correctly to the repository.
│   │   │   │           function test_successful_scraping: Test successful scraping execution.
│   │   │   │           function test_error_in_page_scraping: Test use case handles errors from PageScrapingService.
│   │   │   │           function test_force_restart_behavior: Test that force_restart is passed correctly to the repository.
│   │   │   └── value_objects/
│   │   │       └── scraping/
│   │   │           ├── test_scraping_config.py (4.4 KB)
│   │   │           │   module __main__: Unit tests for the ScrapingConfig value object.
│   │   │           │   class TestScrapingConfigCreation: Tests for creating a ScrapingConfig instance.
│   │   │           │   method TestScrapingConfigCreation.test_creation_success_defaults: Test successful creation of a ScrapingConfig with default values.
│   │   │           │   method TestScrapingConfigCreation.test_creation_success_custom_values: Test successful creation of a ScrapingConfig with custom values.
│   │   │           │   method TestScrapingConfigCreation.test_creation_fails_negative_timeout: Test that creation fails if timeout_seconds is negative.
│   │   │           │   method TestScrapingConfigCreation.test_creation_fails_zero_timeout: Test that creation fails if timeout_seconds is zero.
│   │   │           │   method TestScrapingConfigCreation.test_creation_fails_negative_retry_attempts: Test that creation fails if retry_attempts is negative.
│   │   │           │   method TestScrapingConfigCreation.test_creation_fails_negative_retry_delay: Test that creation fails if retry_delay_seconds is negative.
│   │   │           │   method TestScrapingConfigCreation.test_creation_fails_zero_max_empty_pages: Test that creation fails if max_empty_pages is zero.
│   │   │           │   method TestScrapingConfigCreation.test_creation_fails_negative_max_pages: Test that creation fails if max_pages is negative.
│   │   │           │   method TestScrapingConfigCreation.test_equality_same_values: Test that ScrapingConfig instances with same values are equal.
│   │   │           │   method TestScrapingConfigCreation.test_equality_different_values: Test that ScrapingConfig instances with different values are not equal.
│   │   │           │   function test_creation_success_defaults: Test successful creation of a ScrapingConfig with default values.
│   │   │           │   function test_creation_success_custom_values: Test successful creation of a ScrapingConfig with custom values.
│   │   │           │   function test_creation_fails_negative_timeout: Test that creation fails if timeout_seconds is negative.
│   │   │           │   function test_creation_fails_zero_timeout: Test that creation fails if timeout_seconds is zero.
│   │   │           │   function test_creation_fails_negative_retry_attempts: Test that creation fails if retry_attempts is negative.
│   │   │           │   function test_creation_fails_negative_retry_delay: Test that creation fails if retry_delay_seconds is negative.
│   │   │           │   function test_creation_fails_zero_max_empty_pages: Test that creation fails if max_empty_pages is zero.
│   │   │           │   function test_creation_fails_negative_max_pages: Test that creation fails if max_pages is negative.
│   │   │           │   function test_equality_same_values: Test that ScrapingConfig instances with same values are equal.
│   │   │           │   function test_equality_different_values: Test that ScrapingConfig instances with different values are not equal.
│   │   │           ├── test_scraping_result.py (5.4 KB)
│   │   │           │   module __main__: Unit tests for the ScrapingResult value object.
│   │   │           │   class TestScrapingResult: Tests for ScrapingResult value object.
│   │   │           │   method TestScrapingResult.test_creation_success: Test successful creation of a ScrapingResult with valid data.
│   │   │           │   method TestScrapingResult.test_duration_seconds: Test the duration_seconds property.
│   │   │           │   method TestScrapingResult.test_success_rate: Test the success_rate property.
│   │   │           │   method TestScrapingResult.test_equality_same_values: Test that ScrapingResult instances with same values are equal.
│   │   │           │   method TestScrapingResult.test_equality_different_values: Test that ScrapingResult instances with different values are not equal.
│   │   │           │   function test_creation_success: Test successful creation of a ScrapingResult with valid data.
│   │   │           │   function test_duration_seconds: Test the duration_seconds property.
│   │   │           │   function test_success_rate: Test the success_rate property.
│   │   │           │   function test_equality_same_values: Test that ScrapingResult instances with same values are equal.
│   │   │           │   function test_equality_different_values: Test that ScrapingResult instances with different values are not equal.
│   │   │           └── test_subject_info.py (3.6 KB)
│   │   │               module __main__: Unit tests for the SubjectInfo value object.
│   │   │               class TestSubjectInfoCreation: Tests for creating a SubjectInfo instance.
│   │   │               method TestSubjectInfoCreation.test_creation_success: Test successful creation of a SubjectInfo with valid data.
│   │   │               method TestSubjectInfoCreation.test_creation_fails_empty_alias: Test that creation fails if alias is empty.
│   │   │               method TestSubjectInfoCreation.test_creation_fails_empty_official_name: Test that creation fails if official_name is empty.
│   │   │               method TestSubjectInfoCreation.test_creation_fails_empty_proj_id: Test that creation fails if proj_id is empty.
│   │   │               method TestSubjectInfoCreation.test_creation_fails_invalid_exam_year: Test that creation fails if exam_year is out of range.
│   │   │               method TestSubjectInfoCreation.test_equality_same_values: Test that SubjectInfo instances with same values are equal.
│   │   │               method TestSubjectInfoCreation.test_equality_different_values: Test that SubjectInfo instances with different values are not equal.
│   │   │               function test_creation_success: Test successful creation of a SubjectInfo with valid data.
│   │   │               function test_creation_fails_empty_alias: Test that creation fails if alias is empty.
│   │   │               function test_creation_fails_empty_official_name: Test that creation fails if official_name is empty.
│   │   │               function test_creation_fails_empty_proj_id: Test that creation fails if proj_id is empty.
│   │   │               function test_creation_fails_invalid_exam_year: Test that creation fails if exam_year is out of range.
│   │   │               function test_equality_same_values: Test that SubjectInfo instances with same values are equal.
│   │   │               function test_equality_different_values: Test that SubjectInfo instances with different values are not equal.
│   │   ├── domain/
│   │   │   ├── html_processing/
│   │   │   │   └── test_pure_html_transforms.py (1.3 KB)
│   │   │   └── test_problem.py (11.3 KB)
│   │   │       module __main__: Unit tests for the Problem domain entity.  These tests verify the behavior, validation (invariant...
│   │   │       class TestProblemCreation: Tests for creating a Problem instance.
│   │   │       method TestProblemCreation.test_creation_success: Test successful creation of a Problem with valid data.
│   │   │       method TestProblemCreation.test_creation_defaults: Test creation with minimal required data and default values.
│   │   │       class TestProblemValidation: Tests for Problem validation (invariants).
│   │   │       method TestProblemValidation.test_creation_fails_empty_text: Test that creation fails if text is empty.
│   │   │       method TestProblemValidation.test_creation_fails_invalid_exam_part: Test that creation fails if exam_part is invalid.
│   │   │       method TestProblemValidation.test_creation_fails_task_number_out_of_range: Test that creation fails if task_number is out of range.
│   │   │       method TestProblemValidation.test_creation_fails_invalid_difficulty_level: Test that creation fails if difficulty_level is invalid.
│   │   │       class TestProblemIdentity: Tests for Problem identity methods (__eq__, __hash__).
│   │   │       method TestProblemIdentity.test_equality_same_id: Test that Problems with the same problem_id are equal.
│   │   │       method TestProblemIdentity.test_equality_different_id: Test that Problems with different problem_id are not equal.
│   │   │       method TestProblemIdentity.test_equality_not_same_type: Test that Problem is not equal to a non-Problem object.
│   │   │       class TestProblemBehavior: Tests for Problem behavior methods.
│   │   │       method TestProblemBehavior.test_is_answer_correct_true: Test is_answer_correct returns True for a matching answer.
│   │   │       method TestProblemBehavior.test_is_answer_correct_false_no_answer: Test is_answer_correct returns False if no correct answer is set.
│   │   │       method TestProblemBehavior.test_can_be_attempted_true: Test can_be_attempted returns True if text is present.
│   │   │       method TestProblemBehavior.test_can_be_attempted_false_empty_text: Test can_be_attempted returns False if text is empty.
│   │   │       method TestProblemBehavior.test_has_images_true: Test has_images returns True if images list is not empty.
│   │   │       method TestProblemBehavior.test_has_images_false_empty_list: Test has_images returns False if images list is empty.
│   │   │       method TestProblemBehavior.test_is_suitable_for_level_true: Test is_suitable_for_level returns True for matching level.
│   │   │       method TestProblemBehavior.test_is_suitable_for_level_false_not_matching: Test is_suitable_for_level returns False for non-matching level.
│   │   │       method TestProblemBehavior.test_is_suitable_for_level_false_none_level: Test is_suitable_for_level returns False if problem's level is None.
│   │   │       function test_creation_success: Test successful creation of a Problem with valid data.
│   │   │       function test_creation_defaults: Test creation with minimal required data and default values.
│   │   │       function test_creation_fails_empty_text: Test that creation fails if text is empty.
│   │   │       function test_creation_fails_invalid_exam_part: Test that creation fails if exam_part is invalid.
│   │   │       function test_creation_fails_task_number_out_of_range: Test that creation fails if task_number is out of range.
│   │   │       function test_creation_fails_invalid_difficulty_level: Test that creation fails if difficulty_level is invalid.
│   │   │       function test_equality_same_id: Test that Problems with the same problem_id are equal.
│   │   │       function test_equality_different_id: Test that Problems with different problem_id are not equal.
│   │   │       function test_equality_not_same_type: Test that Problem is not equal to a non-Problem object.
│   │   │       function test_is_answer_correct_true: Test is_answer_correct returns True for a matching answer.
│   │   │       function test_is_answer_correct_false_no_answer: Test is_answer_correct returns False if no correct answer is set.
│   │   │       function test_can_be_attempted_true: Test can_be_attempted returns True if text is present.
│   │   │       function test_can_be_attempted_false_empty_text: Test can_be_attempted returns False if text is empty.
│   │   │       function test_has_images_true: Test has_images returns True if images list is not empty.
│   │   │       function test_has_images_false_empty_list: Test has_images returns False if images list is empty.
│   │   │       function test_is_suitable_for_level_true: Test is_suitable_for_level returns True for matching level.
│   │   │       function test_is_suitable_for_level_false_not_matching: Test is_suitable_for_level returns False for non-matching level.
│   │   │       function test_is_suitable_for_level_false_none_level: Test is_suitable_for_level returns False if problem's level is None.
│   │   ├── infrastructure/
│   │   └── presentation/
│   └── conftest.py (2.0 KB)
│       function event_loop: Создает экземпляр цикла событий для всей сессии тестов
│       function subject_info: Фикстура с тестовыми данными для предмета математика
│       function sample_problem: Фикстура с тестовой задачей
│       function test_run_folder: Фикстура с временной папкой для тестов
│       function mock_dependencies: Фикстура с моками зависимостей для тестов
└── __init__.py (0 B)
